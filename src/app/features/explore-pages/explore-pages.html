<div class="explore-container">
    <!-- Header -->
    <div class="header">
        <h1 class="title">Explore</h1>
        <p class="subtitle">
            Discover amazing study resources shared by the community
        </p>
    </div>

    <!-- Filters -->
    <div class="controls">
        <input type="text" class="search-input" placeholder="Search study pages..." [ngModel]="searchQuery()"
            (ngModelChange)="searchQuery.set($event)" />

        <select class="filter-select" [ngModel]="selectedSubject()" (ngModelChange)="selectedSubject.set($event)">
            <option *ngFor="let subject of getSubjects()" [value]="subject">
                {{ subject }}
            </option>
        </select>

        <select class="filter-select" [ngModel]="sortOption()" (ngModelChange)="sortOption.set($event)">
            <option value="Most Popular">Most Popular</option>
            <option value="Newest">Newest</option>
        </select>
    </div>

    <!-- Study Page Grid -->
    <div class="page-grid">
        <app-study-page-item *ngFor="let page of filteredPages()" [page]="page" [author]="getAuthorName(page.ownerId)"
            [commentCount]="getCommentCount(page.id)" [isLiked]="likedPages().has(page.id)" [isLoggedIn]="isLoggedIn()"
            [currentUserId]="currentUserId()" (like)="likePage($event)" (edit)="handleEdit($event)"
            (delete)="handleDelete($event)"></app-study-page-item>

    </div>

    <!-- Load More Button -->
    <div class="load-more-wrapper" *ngIf="filteredPages().length < allFilteredPages().length">
        <button class="load-more-btn" (click)="loadMore()">Load More Pages</button>
    </div>
</div>